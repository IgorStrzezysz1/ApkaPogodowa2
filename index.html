<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="manifest" href="./manifest.json">
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <header>
        <h1>Weather App by Igor Strze≈ºysz</h1>
    </header>
    <main>
        <section id="location">
            <button id="detailWeatherButton">Details of Weather</button>
            <button id="navigate-to-search">Go to Weather Search</button>
            <button id="navigate-to-history">Weather History</button>
        </section>
    </main>
    <footer></footer>

    <div class="slide-down" id="slideDownAnimation"></div>

    <script>
        // Request notification permission
        if ('Notification' in window) {
            Notification.requestPermission().then((permission) => {
                if (permission === 'granted') {
                    console.log('Notification permission granted.');
                } else if (permission === 'denied') {
                    console.warn('Notification permission denied.');
                } else {
                    console.log('Notification permission dismissed.');
                }
            }).catch((error) => {
                console.error('Error requesting notification permission:', error);
            });
        } else {
            console.error('This browser does not support notifications.');
        }

        const slideDown = document.getElementById('slideDownAnimation');
        const detailWeatherButton = document.getElementById('detailWeatherButton');
        const searchWeatherButton = document.getElementById('navigate-to-search');

        // Function to navigate with animation
        const navigateWithAnimation = (url) => {
            slideDown.classList.add('active');
            setTimeout(() => {
                window.location.href = url;
            }, 800);
        };

        // Event listener for "Details of Weather" button
        document.getElementById('detailWeatherButton').addEventListener('click', () => {
            navigateWithAnimation('./detailsWheater.html');
        });

        // Event listener for "Go to Weather Search" button
        document.getElementById('navigate-to-search').addEventListener('click', () => {
            navigateWithAnimation('./searchpage.html');
        });

        // Event listener for "Weather History" button
        document.getElementById('navigate-to-history').addEventListener('click', () => {
            navigateWithAnimation('./historyWheater.html');
        });

    </script>
    <script src="app.js"></script>
</body>

</html>